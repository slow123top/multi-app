<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>图片懒加载</title>
    <style>
      div {
        width: 100px;
        height: 100px;
        /* margin-top: 20px; */
      }
      img.img-item {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="content">
      <!-- <img src="../dog.jpg" alt="" /> -->
    </div>
    <!-- <div>
      <img src="../dog.jpg" alt="" />
    </div>
    <div>
      <img src="../dog.jpg" alt="" />
    </div>
    <div>
      <img src="../dog.jpg" alt="" />
    </div> -->
    <script>
      //   function createImgContainer() {
      //     const div = document.createElement("div");
      //     const img = document.createElement("img");
      //     img.src='./dog.jpg';
      //     div.append(img);
      //   }

      //   const firstEle = document.getElementsByClassName('content');
      //   const firstElemSize = firstEle.getBoundingClientRect();
      //   document.addEventListener("wheel", function() {
      //     const addedImgs = [];
      //     // 获取当前

      //   });
      const imgArrs = [
        "../dog.jpg",
        "../dog.jpg",
        "../dog.jpg",
        "../dog.jpg",
        "../dog.jpg",
      ];
      const container = document.getElementsByClassName("content")[0];
      const loadImg = () => {
        if (!imgArrs.length) {
          return;
        }
        const img = new Image();
        img.setAttribute("class", "img-item");
        img.src = imgArrs[0];
        img.onload = () => {
          setTimeout(() => {
            container.appendChild(img);
            imgArrs.shift();
            loadImg();
          }, 1000);
        };
      };
      loadImg();
    </script>
  </body>
</html>
